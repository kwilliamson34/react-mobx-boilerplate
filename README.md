### Initial environment setup
```
npm install -g json-server

npm install

json-server src/fixtures/server-data.json
```

`npm start`

**Note:** The default environment for all build commands is prod, if no environment is specified using `-- --env=[dev|stage|prod]`. This is to minimize the security risk of a missing environment variable on a production server as the PSE solution scales. However, `npm start` specifies the dev environment.


### Build for stage/production
```
npm run build -- --env=[stage|prod]
```

### Links to bypass Halo authentication
The following links can be used to bypass Halo authentication and access local builds as different users without logging in. The service will redirect you to the QA server, but you can just re-open your localhost server and you will be authenticated. The full process:

1. Click on the link below of the desired test user.
2. You will be redirected to the PSE QA server (This is fine).
3. Enter the URL https://localhost:8443 to get back to your local build


* [cperry@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyMTcwIiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiItcXcxSE4ya1hvQWhDVTNlWW5xdzhRIiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMjE3MCIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNSIsImV4cCI6MTQ5NzQ3OTIxNCwiaWF0IjoxNDk3NDcyMDE0LCJ1c2VyR1VJRCI6IjIxNzAiLCJSb2xlQXV0aG9yaXphdGlvbiI6IlNUOjAwMDQ2MzczOkdfRk5fQURNLFNUOjAwMDQ2MzczOkdfRk5fU1VCIiwibGFzdE5hbWUiOiJQZXJyeSIsInVzZXJHcm91cHMiOlsiR19GTiIsIkdfRk5fUFNFIiwiR19GTl9TVUIiLCJHX0ZOX0FETSJdLCJsYXN0TG9naW5UaW1lU3RhbXAiOiIyMDE3MDYxNDIwMjUxOSIsImNvbnRhY3RFbWFpbCI6ImNwZXJyeUBzYXBpZW50LmNvbSIsInVzZXJJRCI6ImNwZXJyeUBzYXBpZW50LmNvbSIsImZpcnN0TmFtZSI6IkNocmlzIn0.H95x1C4dajqouQMe5LrYpwqCCiR0uwtiW94OjHT1eL9vHe-i8OkvwvYukeUM5Np3JzrdjGQsThLqCTAzMU_svjd0hDYHuTAqFAI0UZulISD-e3bVbBCb6KnqPFtB3EYE-vaXvwkEJIy_amN58PnfxXZn81StFBKRTKfg9qO_cKqP8M3_UvM4s5i7Ds5tLcbfXHatMtJOvjLTGWgowKV7MFmtLzOxNiG5xT68Yzj5flfTlGEiLJ14OOi3CRuVBxZj4iZxr3uO609UtEQQ6UYaspmtVicZsRM1iLy6BjtsZVKkcDnavu8bnO_MEFP0CvSfPsge4e5W5W2JNTe7E-5MWQ) (PSE Admin)
* [tburcham@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyMTczIiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiJiMjJZalIxc0VwZ2dBRE05aHd3Vl9BIiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMjE3MyIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNSIsImV4cCI6MTQ5ODY2OTQwNCwiaWF0IjoxNDk4NjYyMjA0LCJ1c2VyR1VJRCI6IjIxNzMiLCJSb2xlQXV0aG9yaXphdGlvbiI6IlNUOjA3Mjg0Mzg3OkdfRk5fQURNLFNUOjA3Mjg0Mzg3OkdfRk5fSU0sU1Q6MDcyODQzODc6R19GTl9TVUIsU1Q6MDcwMzI0OTA6R19GTl9BRE0sU1Q6MDcwMzI0OTA6R19GTl9JTSxTVDowNzAzMjQ5MDpHX0ZOX1NVQiIsImxhc3ROYW1lIjoic2FwaWVudCIsImNvbnRhY3RDVE4iOiJUR19OT1RfRk9VTkQiLCJ1c2VyR3JvdXBzIjpbIkdfRk4iLCJHX0ZOX1BTRSIsIkdfRk5fU1VCIiwiR19GTl9JTSIsIkdfRk5fQURNIl0sImxhc3RMb2dpblRpbWVTdGFtcCI6IjIwMTcwNjI4MTUwMTA1IiwiY29udGFjdEVtYWlsIjoidGJ1cmNoYW1Ac2FwaWVudC5jb20iLCJ1c2VySUQiOiJ0YnVyY2hhbUBzYXBpZW50LmNvbSIsImZpcnN0TmFtZSI6InRidXJjaGFtIn0.mPqwo6JYTFVQkhd1sks4vuFU4YRIqSsr6_AGl5e9BLa-IIQ6FkMzg5mPgVCPMLpSAXOS-6yHI6Bi0IEno5Z-8Vkvsnhu0SU0MP9LFbpGfxLkCcdcHd7fv5rotDbNo71N_YiRVapQs1oHTXHweqMy_YOs1ImK1pBMLkmyd8bX3gM44BVqkfQdzPbap5r_P7oVBNPqK3kMImeQloNjGhoSIEJv8fXhOYwquFljMdIVlLGKGXugrMjQjtwWmMpGU64F50T3dIXBrw8grN2ZhsTqfldsdNgBgYv9LlCbRYyWOoqwKQwV3aPeHJZRPii65L7dWsEtv8YBCeWVGwsAVTdIYw) (PSE Admin)
* [droche@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyMTc0Iiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiJ2b29pdWQxLWdCVkZrUHJxalBMSzNBIiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMjE3NCIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNSIsImV4cCI6MTQ5NzU2NjE4NywiaWF0IjoxNDk3NTU4OTg3LCJ1c2VyR1VJRCI6IjIxNzQiLCJSb2xlQXV0aG9yaXphdGlvbiI6IlNUOjAwMDQ2MzczOkdfRk5fU1VCIiwibGFzdE5hbWUiOiJSb2NoZSIsInVzZXJHcm91cHMiOlsiR19GTiIsIkdfRk5fU1VCIl0sImxhc3RMb2dpblRpbWVTdGFtcCI6IjIwMTcwNjEzMTkzNjQ3IiwiY29udGFjdEVtYWlsIjoiZHJvY2hlQHNhcGllbnQuY29tIiwidXNlcklEIjoiZHJvY2hlQHNhcGllbnQuY29tIiwiZmlyc3ROYW1lIjoiRGFuIn0.BkBdKH8cELhEv5nDdkGpvyZhD2jXe7r3qm9s0K2aQb7sO8-qYkv8Yrx1UQabi00SdFovQaS57vLagEopvge5LsEmWJQwSnqup24WT7k2Gh7KySUxFdPZJ3EUQCUIwOvkDkJpnsTyucRu0lCDkU-6e5AtdaKaHOPcX8Qw4Pir6ygDDipDu9irGztZcUyY7ashkcwmGgIiJFEVMatdhZ2r5PFzUzrpTtTFIAAWTJ-tjQ5kpPhfx0d--sDYH31EBfy41MCBWFYlKKQiBEK86gqmvRUG-BLx0FPVBWn5ElTPq45bNc29_m9CqgsQMiCWwwq1FPEhuagdSTLcAB92AHxosA) (First Responder)
* [csmith3@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyMTcyIiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiJya2xtYUtqNldEUW55MjlJSG1Dekd3IiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMjE3MiIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNSIsImV4cCI6MTQ5Nzk4NDg0MiwiaWF0IjoxNDk3OTc3NjQyLCJ1c2VyR1VJRCI6IjIxNzIiLCJSb2xlQXV0aG9yaXphdGlvbiI6IlNUOjAwMDQ2MzczOkdfRk5fSU0sU1Q6MDAwNDYzNzM6R19GTl9TVUIiLCJsYXN0TmFtZSI6IlNtaXRoIiwidXNlckdyb3VwcyI6WyJHX0ZOIiwiR19GTl9QU0UiLCJHX0ZOX1NVQiIsIkdfRk5fSU0iXSwibGFzdExvZ2luVGltZVN0YW1wIjoiMjAxNzA2MjAxNjUzMjMiLCJjb250YWN0RW1haWwiOiJjc21pdGgzQHNhcGllbnQuY29tIiwidXNlcklEIjoiY3NtaXRoM0BzYXBpZW50LmNvbSIsImZpcnN0TmFtZSI6IkNhaXRsaW4ifQ.OTWZZCm6JsHi8qq84H_3EUNDpfcmILcOPcaXgVCnoeeKKKpgY1TsVxJsYQykmDmts4yRCzE200gE8octjQZrm073Gr-zFPKig8tjeN7W9UHpXwnPN9YKnQM-mX3xkf9XPG5aY4J6qZrYrJqCgNm0gBy19uoiZZJN66Fiypg6Ubh-8aGlo5vQ8l9VDsV1szg1UJD_pC4EcEuh6mmLXGzBlhgcTUX_-SXfCk4L5qxPnY2Vgs5rwIly1xLCkW_Y0zLN60FOntavkQ0ItQtWEdH_FdUONeqa6Hiq3QgJuxmbEo_QdsihTVRPKGutYdILJEY1WOmH4WxXbxhHxdLnUtwHyw) (Incident Commander)
* [ekanter@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyMTc1Iiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiJiV0hpZGtiWVRoZFJyanNSOXJJWW5RIiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMjE3NSIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNCIsImV4cCI6MTQ5Nzk4NDk5MiwiaWF0IjoxNDk3OTc3NzkyLCJ1c2VyR1VJRCI6IjIxNzUiLCJSb2xlQXV0aG9yaXphdGlvbiI6IlNUOjAwMDQ2MzczOkdfRk5fU1VCIiwibGFzdE5hbWUiOiJLYW50ZXIiLCJ1c2VyR3JvdXBzIjpbIkdfRk4iLCJHX0ZOX1NVQiIsIkdfRk5fREVWIl0sImxhc3RMb2dpblRpbWVTdGFtcCI6IjIwMTcwNjIwMTY0NzA1IiwiY29udGFjdEVtYWlsIjoiZWthbnRlckBzYXBpZW50LmNvbSIsInVzZXJJRCI6ImVrYW50ZXJAc2FwaWVudC5jb20iLCJmaXJzdE5hbWUiOiJFdmFuIn0.lP7vcqsZEfE2_HX_V4H7sOIKoicc_vFjifXVJc_v1EFHGl8pzupoVcRXPRzzNN7ZCdWDR20qbvPkq5Eo9WF22zC5KZXfs4U3NDnRKWXm2qBclhN85UytH7M--HUvEJ_AYSAFdSV56JH7smvlCyeRXM7UhPAUG9ZxKx9dMewXb8LCU7K-zxW7H8PGft9omesxtemk5HkjFuhO5yEw_5GGcgXhQS8wJqTir3iEmtSE_GGqz2HC1kR2V5-0lWl0Db4ST9t64Miiq_YKWr5Y-gjCvPDwKs0F8krjJC40Cc9AIbKUmMBep4LhKwq9hQmGUxtWTV5nJd7BK-6O7JlV9NQfGw) (Developer, First Responder)
* [aagrawal12@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzODQyIiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiJoZ3k1WmRhcklZRHFVQlJqX3k1ZThBIiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMzg0MiIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNCIsImV4cCI6MTQ5Nzk4NTE0NiwiaWF0IjoxNDk3OTc3OTQ2LCJ1c2VyR1VJRCI6IjM4NDIiLCJsYXN0TmFtZSI6IkFnYXJ3YWwiLCJ1c2VyR3JvdXBzIjpbIkdfRk4iLCJHX0ZOX0RFViJdLCJsYXN0TG9naW5UaW1lU3RhbXAiOiIyMDE3MDYyMDAxMzEzMiIsImNvbnRhY3RFbWFpbCI6ImFhZ3Jhd2FsMTJAc2FwaWVudC5jb20iLCJ1c2VySUQiOiJhYWdyYXdhbDEyQHNhcGllbnQuY29tIiwiZmlyc3ROYW1lIjoiQW1pdCJ9.aNYtmyFIoS8GLQN0BpAM1ePOGQpTwxDQjGRMHysAFANnjBA9oxLSPTaI8V9NBoQAXp0bnGRay9Yr_WmOcg1fxotmIUts--nOzQBrv-FFuItM3VN0Tzyqxhur8v38zk3YSCcIhF8T4wrdllRH5h-X_LdKKSMA0bz0qXRilpnQJpRZ0h8baa565yE70APTZRvJhVND1mVmyYyGIgBGQCT4-B_B4SpZSnJ47JRWfsiPpjNO22L8Y9Ef3WvEPpjbm7Xeodz40wLXzpk8gznZ88gL6p8UFhArAsvZ7GyV66JdA9J2ANgej5mQvcS5wV6EQiwwXwpddTeClpJNLGxa9SyyGg) (Developer)
* [fkhan11@sapient.com](https://localhost:8443/oauth/validate?id_token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyMTc2Iiwibm9uY2UiOiJkc1pITjVrdm0yYTRjVklBMFpkTiIsImF0X2hhc2giOiJzSm9xcmw3QUpMQkNaa0dyQ3hnZVJ3IiwicmVhbG1OYW1lIjoibWdhIiwidW5pcXVlU2VjdXJpdHlOYW1lIjoiMjE3NiIsImlzcyI6Imh0dHBzOi8vb2lkYy5zdGFnZS5mbG9naW4uYXR0LmNvbSIsImF1ZCI6Im0xMTYzNCIsImV4cCI6MTQ5Nzk4NTE5MSwiaWF0IjoxNDk3OTc3OTkxLCJ1c2VyR1VJRCI6IjIxNzYiLCJSb2xlQXV0aG9yaXphdGlvbiI6IlNUOjAwMDM3MzgyOkdfRk5fU1VCIiwibGFzdE5hbWUiOiJLYWhuIiwidXNlckdyb3VwcyI6WyJHX0ZOIiwiR19GTl9TVUIiXSwibGFzdExvZ2luVGltZVN0YW1wIjoiMjAxNzA2MjAxNjQ0MzgiLCJjb250YWN0RW1haWwiOiJma2FobjExQHNhcGllbnQuY29tIiwidXNlcklEIjoiZmthaG4xMUBzYXBpZW50LmNvbSIsImZpcnN0TmFtZSI6IkZhcm9vcSJ9.g2a1_l8EbtM80JGEPxDQixZLgMjLUOePdJzS9ywhcSsWZkucJhFLjW6r2p7vo2CAz6TNiUQpiw5OJC-xtLamQGWF5BLCKJrBAk6V9u9S1samKzk0toECYXFyubzEaW9sRtXitUEePI5SMMbWKxYRweB-pFlwLqznVlvPPYPlqTBgcesNVkBVj3r5yBDyQO5HVDwTTBAe9Gua5OpH7TQ8Msc9UpyxGZY5e14XatkeJtP_n7c80cBgqJSeDhsjQwafbKbV46XYEh-MiUmtQ1Tat6UhiA84J0lMLmc5RWr-tl_Ey3Are0bHH_WANn7TIKl7RikxKd5CKG0J1XNI0trH1g) (First Responder)

### Local login process using Halo login

1. Go to https://localhost:8443. You will be redirected to the Halo login.

2. Enter in the user credentials. Make sure you have the ‘Network’ tab of the Dev Tools open and the ‘Preserve Log’ option is enabled.

3. After the redirect to the test server, go to back to the Network tab of DevTools.  Find the filter search field and search for 'validate'. On the search result, navigate to headers, and find the id_token field and copy its value.

4. Open the sso-crack.html file in the /dev folder at root (it can just be opened as a file – no server needed). Paste the value of the id_token field from the previous step into the text area and click the button.

5. You will be redirected back to the QA site, but your localhost site will now have a valid session. Go back to https://localhost:8443 and you should be good to go.
